!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,c=[],f=!1,l=-1;function u(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&g())}function g(){if(!f){var t=h(u);f=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new d(t,e)),1!==c.length||f||h(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){(function(i){!function(){"use strict";let n=["D29034","4DC26B","026AA7","A86CC1","484553","30364C","000000","EB5A46","933B27","B44772","0079BF","42548E","49852E","CF513D","CD5A91","C377E0","61BD4F","E99E40","E6C60D","4CAF54","FFAB4A","00AECC","F2D600","51E898","3A476F","222222","094C72","A0711C","6E2F1A","3E4D80","00C2E0","BB8129","FF80CE","6C547B","CCA42B","D9B51C","0C3953","3F6F21","519839","333333","5AAC44","0082A0","055A8C","4A9839","006988","36405F","676D70","E76EB1","BD903C","96304C","0098B7","4FD683","89609E","B04632"],r=["298FCA","EC9488","D6DADC","4FD683","E6C60D","F5DD29","B3F1D0","FF95D6","CF513D","0079BF","FDC788","F2D600","DFC0EB","B7DDB0","E76EB1","7BC86C","3E4D80","F3E260","838FB5","8FDFEB","6170A1","B2B9D0","D5A6E6","676D70","5AAC44","6DECA9","90ECC1","EFB3AB","838C91","E2E4E6","61BD4F","CD8DE5","333333","FFAB4A","F5EA92","FAC6E5","A86CC1","FFB968","42548E","29CCE5","8BBDD9","99D18F","51E898","00AECC","5DD3E5","E99E40","5BA4CF","00C2E0","FF80CE","EF7564","FFB0E1","FAD8B0","C377E0","026AA7","EB5A46"];function o(t,e,i){if(!t.getContext)return;this.config=i||{},this.config.xSize=this.config.xSize||16,this.config.ySize=this.config.ySize||this.config.xSize,this.config.lineWidth=this.config.lineWidth||3,this.config.theme=this.config.theme||{},this.config.theme.palette||("light"===(this.config.theme.name||"light")?(this.config.theme.palette=n,this.config.theme.node=this.config.theme.node||{inner:"fff",outer:"000",shadow:"rgba(250, 250, 250, 0.9)"}):(this.config.theme.palette=r,this.config.theme.node=this.config.theme.node||{inner:"000",outer:"fff",shadow:"rgba(200, 200, 200, 0.4)"})),this.config.theme.node.radius=this.config.theme.node.radius||5;let o=this.ctx=t.getContext("2d"),s=window.devicePixelRatio||1,h=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.ratio=s/h;let a=0,c=e.length;this.grid=[];for(let t=0;t<c;++t){let i=e[t].replace(/^\s+|\s+$/g,""),n=i.replace(/(\s|_|-|\.)/g,"").length;a=n>a?n:a,this.grid.unshift(i.split(""))}let f=a*this.config.xSize,l=c*this.config.ySize;t.width=f*this.ratio,t.height=l*this.ratio,t.style.width=f+"px",t.style.height=l+"px",this.canvas=t,o.lineWidth=this.config.lineWidth,o.lineJoin="round",o.lineCap="round",o.scale(this.ratio,this.ratio),this.used=0,this.tracks=[]}o.prototype.newTrack=function(){let t=this.used++%this.config.theme.palette.length;return this.config.theme.palette[t]},o.prototype.drawShape=function(t,e,i,n,r,o,s,h,a){let c=this.ctx,f=this.config.xSize,l=this.config.ySize;c.strokeStyle="#"+a,c.beginPath(),c.moveTo(t,e),c.bezierCurveTo(t+f*i,e-l*n,t+f*r,e-l*o,t+f*s,e-l*h),c.stroke()},o.prototype.drawArcRightThenUp=function(t,e,i){this.drawShape(t,e,.5,0,1,.5,1,1,i)},o.prototype.drawArcUpThenRight=function(t,e,i){this.drawShape(t,e,0,.5,.5,1,1,1,i)},o.prototype.drawDiagRight=function(t,e,i){this.drawShape(t,e,0,.5,.25,.5,.5,1,i)},o.prototype.drawDiagRightEntry=function(t,e,i){this.drawShape(t,e,0,.5,.5,.5,1,1,i)},o.prototype.drawDiagonalRightExit=function(t,e,i){this.drawShape(t,e,.5,.5,1,.5,1,1,i)},o.prototype.drawLineLeft=function(t,e,i){this.drawShape(t,e,0,.5,.5,.5,1,.5,i)},o.prototype.drawLineRight=function(t,e,i){let n=this.ctx;n.strokeStyle="#"+i,n.beginPath(),n.moveTo(t,e),n.lineTo(t+this.config.xSize,e),n.stroke()},o.prototype.drawLineUp=function(t,e,i){let n=this.ctx;n.strokeStyle="#"+i,n.beginPath(),n.moveTo(t,e),n.lineTo(t,e-this.config.ySize),n.stroke()},o.prototype.drawNode=function(t,e,i,n){let r=this.ctx;r.strokeStyle="#"+i,this.drawLineUp(t,e,i);let o=this.config.theme.node;r.save(),r.beginPath(),r.fillStyle="#"+o.outer,r.arc(t,e-this.config.ySize/2,o.radius,0,2*Math.PI),n&&(r.shadowOffsetX=o.radius/2,r.shadowBlur=o.radius,r.shadowColor=o.shadow),r.fill(),n||(r.beginPath(),r.fillStyle="#"+o.inner,r.arc(t,e-this.config.ySize/2,o.radius/2,0,2*Math.PI),r.fill()),r.restore()},o.prototype.drawSwitchLeft=function(t,e,i){this.drawShape(t,e,0,.5,-1,.5,-1,1,i)},o.prototype.drawSwitchRight=function(t,e,i){this.drawShape(t,e,0,.5,1,.5,1,1,i)},o.prototype.draw=function(){let t=this.grid;for(let e=0,i=t[0].length;e<i;++e){let i=t[0][e];" "!==i&&"_"!==i&&"-"!==i&&"."!==i&&this.tracks.push(this.newTrack())}let e,i=this.canvas.height/this.ratio;for(let n=0,r=t.length;n<r;++n){let r=this.config.xSize/2,o=t[n],s=e;e=!1;let h=0;for(let a=0,c=o.length;a<c;++a){let f=o[a],l=o[a-1];if(" "===f){a&&" "===l?o[a]="":a&&" "!==l&&"/"!==l&&(r+=this.config.xSize);continue}if("_"!==f&&"/"!==f||"|"!==l||"_"!==o[a-2])if("|"===f)if(!s||"_"===l||"/"!==o[a+1]&&"_"!==o[a+1])"/"===l&&(e=!0);else{let t=this.tracks[h];this.tracks[h]=this.tracks[h+1],this.tracks[h+1]=t}else!s&&"/"===f&&a&&"|"===l?this.tracks.splice(h,0,this.newTrack()):("*"===f||"@"===f)&&n&&a<c-1&&"\\"===t[n-1][a+1]?this.tracks.splice(h+1,1):"-"===f&&"-"===o[a+1]?o[a+1]=" ":"\\"===f&&t[n-1]&&"\\"===t[n-1][a+1]&&(o[a]=f="|");else{let t=this.tracks[h-2];this.tracks[h-2]=this.tracks[h-1],this.tracks[h-1]=t,--h}let u=this.tracks[h];switch(f){case"*":this.drawNode(r,i,u);break;case"@":this.drawNode(r,i,u,!0);break;case"|":this.drawLineUp(r,i,u);break;case"/":if(t[n+1]&&"/"===t[n+1][a+1]){if("_"===o[a-2])t[n+1][a+1]="|",this.drawArcRightThenUp(r,i,u);else{let t=a;for(;" "===o[--t];);r-=(a-1-t)*this.config.xSize/2,this.drawDiagRight(r,i,u)}r-=this.config.xSize}else t[n+1]&&"_"===t[n+1][a+2]?this.drawArcUpThenRight(r,i,u):"_"===o[a-2]?this.drawArcRightThenUp(r,i,u):"|"===o[a+1]&&t[n+1]&&"/"===t[n+1][a+2]&&"|"===o[a-1]&&t[n-1]&&"/"===t[n-1][a-2]?this.drawSwitchRight(r,i,u):"|"===o[a+1]&&t[n+1]&&"/"===t[n+1][a+2]?this.drawDiagRightEntry(r,i,u):"|"===o[a-1]&&t[n-1]&&"/"===t[n-1][a-2]?this.drawDiagonalRightExit(r,i,u):this.drawSwitchRight(r,i,u);r+=this.config.xSize;break;case"\\":this.drawSwitchLeft(r+this.config.xSize,i,u);break;case"_":this.drawLineRight(r,i,u),r+=this.config.xSize;break;case"-":!a||"*"!==l&&"@"!==l||(r+=this.config.xSize),this.drawLineLeft(r,i,u),this.tracks.splice(h--,1),"*"!==o[a-1]&&"@"!==o[a-1]||this.drawNode(r-this.config.xSize,i,this.tracks[h]);break;case".":--h}++h}i-=this.config.ySize,this.tracks.length>h&&this.tracks.splice(h,this.tracks.length-h)}},void 0!==e&&void 0!==i?t.exports=e=o:"object"==typeof window&&(window.Daggit=o)}()}).call(this,i(0))}]);